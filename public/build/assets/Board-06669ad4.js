import{f as r,u as o,o as m,c as b,b as s,t as g,l as v,m as c,v as h,n as y,y as x,d as u,z as D,i as _,A as k,T as w,_ as C}from"./app-40f6085e.js";const T={key:0,class:"modal"},S={class:"glass container"},V={class:"modal-header"},B={class:"title"},U={class:"modal-content"},M={class:"form-input pt-5 pb-2.5"},I=s("label",{for:"title"},"Title",-1),N=s("span",{class:"icon"},"⏬",-1),R=s("span",{class:"icon"},"⏬",-1),$={class:"form-file py-2.5 form-icon"},z={for:"icon"},A=s("span",null,"Icon",-1),E=["src"],F={class:"form-file py-2.5"},P={for:"background"},j=["src"],L={class:"flex"},O={class:"form-checkbox flex-1 pb-2.5"},q={class:"form-checkbox flex-1 pb-2.5"},G=s("div",null,[s("button",{type:"submit",class:"button w-full"},"Save")],-1);let d=r(),f=r(),a=r(),i=r(),p=r();r();const H={name:"boardModal",setup(){return{data:d,title:f,focus:p}},methods:{open(l){const n={title:l.title,icon:l.icon,background:l.background,public:l.public||!1,dark:l.dark||!1};l.id&&(n._method="PUT"),i=w(n),d.value=l,f.value=l.title,setTimeout(()=>p.value.focus(),100)},close(){d.value=null},submit(){let l="/boards/";d.value.id&&(l+=d.value.id),i.post(l,{forceFormData:!0,onError:n=>{n.msg},onSuccess:()=>{C.show("Board saved successfully","success"),this.close()}})},image(l){const n=l.target.files[0],t=new FileReader;t.readAsDataURL(n),t.onload=()=>{l.target.previousSibling.src=t.result}}}},K=Object.assign(H,{setup(l){return(n,t)=>o(d)?(m(),b("div",T,[s("div",S,[s("div",V,[s("a",{class:"btn-close",onClick:t[0]||(t[0]=e=>n.close())}),s("h4",B,g(o(f)),1)]),s("div",U,[s("form",{class:"form",onSubmit:t[9]||(t[9]=v((...e)=>n.submit&&n.submit(...e),["prevent"]))},[s("div",M,[c(s("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o(i).title=e),id:"title",placeholder:"Title",ref_key:"focus",ref:p,autocomplete:"off"},null,512),[[h,o(i).title]]),I]),s("a",{class:y(["cutter",{expand:o(a)}]),onClick:t[2]||(t[2]=e=>x(a)?a.value=!o(a):a=!o(a))},[N,u(" Details "),R],2),c(s("div",null,[s("div",$,[s("label",z,[A,o(i).icon?(m(),b("img",{key:0,src:o(i).icon,width:"50",height:"50"},null,8,E)):_("",!0),s("input",{type:"file",id:"icon",onInput:t[3]||(t[3]=e=>o(i).icon=e.target.files[0]),onChange:t[4]||(t[4]=e=>n.image(e))},null,32)])]),s("div",F,[s("label",P,[u(" Background "),s("img",{src:o(i).background},null,8,j),s("input",{type:"file",id:"background",onInput:t[5]||(t[5]=e=>o(i).background=e.target.files[0]),onChange:t[6]||(t[6]=e=>n.image(e))},null,32)])]),s("div",L,[s("div",O,[s("label",null,[c(s("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>o(i).public=e)},null,512),[[k,o(i).public]]),u(" Public ")])]),s("div",q,[s("label",null,[c(s("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>o(i).dark=e)},null,512),[[k,o(i).dark]]),u(" Dark back ")])])])],512),[[D,o(a)]]),G],32)])])])):_("",!0)}});export{K as default};
